[
    {supercast,
        [
            {auth_module,   bsupercast_auth_local},
            {acctrl_module, bsupercast_acctrl_rbac},

            % if a PDU come from client with asn_key, switch it to the module
            % implementing the supercast_module_behaviour.
            {pdu_dispatch,
                [
                    % {supercast_module_behaviour, asn_key}
                    {tracker_api, modTrackerPDU},
                    {locator_api, modLocatorPDU}
                ]
            },

            % this is the initial list of channels for the client. It must be
            % the entry point for all other channels. For example, once
            % the client subscribe to the tracker channel, this one will
            % tell the client wich chan he knows about, and wich chans
            % disapear. This module can also be a simple "beha_supercast_channel"
            % module.
            {main_channels,
                [
                    'target-MasterChan',
                    'locator-MasterChan'
                ]
            },

            {tcp_client,
                [
                    {enabled, true},
                    {port, 8888},
                    {maxconn, 50},
                    {encoder, bsupercast_encoder_asn}
                ]
            },
            {ssl_client,
                [
                    {enabled, true},
                    {ssl_conf, [
                        {certificate,   "%INSTALL_DIR%/noctopus-server/cfg/ssl/certificate.pem"},
                        {caCertificate, "%INSTALL_DIR%/noctopus-server/cfg/ssl/request.pem"},
                        {key,           "%INSTALL_DIR%/noctopus-server/cfg/ssl/key.pem"}
                    ]},
                    {port, 4443},
                    {maxconn, 50},
                    {encoder, bsupercast_encoder_asn}
                ]
            }
        ]
    }
].
